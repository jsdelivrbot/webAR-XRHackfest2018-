<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>XRHACKFEST2018</title>
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.0/aframe/build/aframe-ar.js"> </script>
</head>
<body>
    <style>
        body{
            margin:0;
            padding:0;
        }
        .btnContent{
            position: fixed;
            z-index:1;
            bottom:0;
        }
    </style>
    <script type="text/javascript">
        var scene;
        var box;
        var btn = document.getElementById('change');
        var colorArray = ['blue','white','blue','red','green'];
        AFRAME.registerComponent('markerhandler',{
            init:function(e){
                console.log(this,'init');
                box = document.querySelector('#mainbox');
                // console.log(box,'box');
                // box.addEventListener(function(evt){
                //     console.log(evt,'evt');
                // });
              
            }
        });
       
        function changeColor(){
            // console.log('ok');
            var random = Math.floor((Math.random() * 4) + 1);
            box.setAttribute('material','color:'+colorArray[random]+';');
            // console.log(box,'box');
        }
    </script>
        <a-scene id="a-scene"   embedded arjs='sourceType: webcam; debugUIEnabled: false'>
                <!-- <a-anchor hit-testing-enabled='true'>
                    <a-box position='0 0.5 0' material='opacity: 0.5; side:double; color:red;'>
                        <a-torus-knot radius='0.26' radius-tubular='0.05'>
                            <a-animation attribute="rotation" to="360 0 0" dur="5000" easing='linear' repeat="indefinite"></a-animation>
                        </a-torus-knot>
                    </a-box>
                </a-anchor> -->
                 <a-marker markerhandler preset="hiro">
                        <a-box id="mainbox" position='0 0.5 0' material='color: blue;'></a-box>
                  </a-marker>
                <!-- <a-marker-camera type='pattern' patternUrl='../dist/img/pattern-marker.patt'></a-marker-camera> -->
                <!-- <a-marker-camera id="camera" preset='hiro'></a-marker-camera> -->
                <!-- <a-camera-static/> -->
                <a-entity camera></a-entity>
        </a-scene>
        <div class="btnContent">
            <button id="change" onClick="changeColor()">Click me to change box color</button>
        </div>
    <!-- <div id="sceneContainer"></div>
<script type="text/javascript" src="index_bundle.js"></script> -->
</body>
</html>